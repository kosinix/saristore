<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="SariStore">
    <title>SariStore</title>

    <!-- Bootstrap -->
    <link rel="shortcut icon" href="favicon.png" />
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/style.css" />
</head>
<body>
<main role="main">
    <div class="container-fluid">
        <div class="row">
            <div id="vApp" v-cloak class="col-md-12 pt-5" :data-pending="pending" style="padding-bottom:150px">
                <!-- Home -->
                <div v-if="page=='#home'" class="bottom d-flex align-items-center justify-content-center">
                    <a href="#home">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>home</title><path d="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z" /></svg>
                        <span>Home</span>
                    </a>
                    <a href="#calc">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>calculator</title><path d="M7,2H17A2,2 0 0,1 19,4V20A2,2 0 0,1 17,22H7A2,2 0 0,1 5,20V4A2,2 0 0,1 7,2M7,4V8H17V4H7M7,10V12H9V10H7M11,10V12H13V10H11M15,10V12H17V10H15M7,14V16H9V14H7M11,14V16H13V14H11M15,14V16H17V14H15M7,18V20H9V18H7M11,18V20H13V18H11M15,18V20H17V18H15Z" /></svg>
                        <span>Calc</span>
                    </a>
                    <a href="#scan">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>barcode-scan</title><path d="M4,6H6V18H4V6M7,6H8V18H7V6M9,6H12V18H9V6M13,6H14V18H13V6M16,6H18V18H16V6M19,6H20V18H19V6M2,4V8H0V4A2,2 0 0,1 2,2H6V4H2M22,2A2,2 0 0,1 24,4V8H22V4H18V2H22M2,16V20H6V22H2A2,2 0 0,1 0,20V16H2M22,20V16H24V20A2,2 0 0,1 22,22H18V20H22Z" /></svg>
                        <span>Scan</span>
                    </a>
                    <a href="#items">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>store</title><path d="M12,18H6V14H12M21,14V12L20,7H4L3,12V14H4V20H14V14H18V20H20V14M20,4H4V6H20V4Z" /></svg>
                        <span>Store</span>
                    </a>
                    <a href="#">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>cog</title><path d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" /></svg>
                        <span>Opts</span>
                    </a>
                </div>
                <!-- Items -->
                <div v-if="page=='#items'">
                    <div class="back d-flex align-items-center mb-4">
                        <a href="#home"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="22" class="mr-3"><title>Back</title><path fill="white" d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg></a>
                        <h1 class="h6 mb-0">View Items</h1>
                    </div>
                    <a href="#addItem" class="btn btn-sm btn-success btn-full-width align-items-center d-flex justify-content-center mb-3">
                        <svg class="mr-1" xmlns="http://www.w3.org/2000/svg" width="22" viewBox="0 0 24 24"><title>Add Item</title><path fill="white" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>
                        <span>Add Item</span>
                    </a>
                    <div class="table-responsive">
                        <table class="table table-light">
                            <tr>
                                <th></th>
                                <th>Item</th>
                                <th>Price</th>
                                <th>Stock</th>
                                <th>Photo</th>
                                <th></th>
                            </tr>
                            <tr v-for="(item, index) in items">
                                <td>${index + 1}</td>
                                <td>${item.name} <em>(${item.size} ${item.unit})</em></td>
                                <td>${item.price|currency}</td>
                                <td>${item.stock}</td>
                                <td><a v-if="item.photo" @click.prevent="openTab(item.photo)" :href="item.photo"><img width="50" v-if="item.photo" :src="item.photo" alt=""></a></td>
                                <td>
                                    <button v-on:click="editItem(index)"class="btn btn-sm btn-light" type="button">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" viewBox="0 0 24 24"><title>pencil</title><path fill="green" d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" /></svg>
                                    </button>
                                    <button v-on:click="deleteItem(index)" class="btn btn-sm btn-light" type="button" class="text-danger">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" viewBox="0 0 24 24"><title>delete</title><path fill="red" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>
                                    </button>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <!-- Items add -->
                <div v-if="page=='#addItem'">
                    <div class="back d-flex align-items-center mb-4">
                        <a href="#items"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="22" class="mr-3"><title>Back</title><path fill="white" d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg></a>
                        <h1 class="h6 mb-0">Add Item</h1>
                    </div>
                    
                    <form ref="formAddItem" v-on:submit.prevent="onPostAddItem" action="" method="POST" class="form-default">
                        <div class="form-group">
                            <label for="barcode">Barcode</label>
                            <div class="d-flex">
                                <input name="barcode" id="barcode" v-model="newItem.barcode" type="text" class="form-control">
                                <button @click="onBarcode('newItem.barcode')" type="button" class="btn btn-light p-0 pl-2 pr-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="32" viewBox="0 0 24 24"><path d="M4,6H6V18H4V6M7,6H8V18H7V6M9,6H12V18H9V6M13,6H14V18H13V6M16,6H18V18H16V6M19,6H20V18H19V6M2,4V8H0V4A2,2 0 0,1 2,2H6V4H2M22,2A2,2 0 0,1 24,4V8H22V4H18V2H22M2,16V20H6V22H2A2,2 0 0,1 0,20V16H2M22,20V16H24V20A2,2 0 0,1 22,22H18V20H22Z" /></svg>
                                </button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="name">Name <em class="text-danger">*</em></label>
                            <div>
                                <input name="name" id="name" v-model="newItem.name" type="text" class="form-control">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-row">
                                <div class="col-4">
                                    <label for="cost">Cost <em class="text-danger">*</em></label>
                                    <div>
                                        <input name="cost" id="cost" v-model="newItem.cost" type="text" class="form-control">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <label for="price">Price <em class="text-danger">*</em></label>
                                    <div>
                                        <input name="price" id="price" v-model="newItem.price" type="text" class="form-control">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <label for="stock">Stock <em class="text-danger">*</em></label>
                                    <div>
                                        <input name="stock" id="stock" v-model="newItem.stock" type="number" min="0" step="1" class="form-control">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-row">
                                <div class="col-6">
                                    <label for="size">Size</label>
                                    <div>
                                        <input name="size" id="size" v-model="newItem.size" type="number" min="0" step="0.1" class="form-control">
                                    </div>
                                </div>
                                <div class="col-6">
                                    <label for="unit">Unit</label>
                                    <div>
                                        <select name="unit" id="unit" v-model="newItem.unit" class="form-control">
                                            <option value=""></option>
                                            <option value="kilogram">Kilos</option>
                                            <option value="gram">Grams</option>
                                            <option value="liter">Liters</option>
                                            <option value="ounce">Ounces</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        <div class="form-group mb-5">
                            <label for="photo">Photo</label>
                            <div>
                                <img style="max-width:100%" v-if="newItem.photo" :src="newItem.photo" alt="" class="image-fluid">
                            </div>
                            <div class="custom-file">
                                <input v-on:change="readFile($event, 'newItem.photo', _, ['image/jpeg', 'image/png'])" name="photo" id="photo" ref="newItemPhoto" type="file">
                                <label class="custom-file-label" for="photo"></label>
                            </div>
                        </div>
                        <div class="form-group">
                            <button class="btn btn-success btn-full-width">Save</button>
                        </div>
                    </form>
                </div>
                <!-- Items edit -->
                <div v-if="page=='#editItem'">
                    <div class="back d-flex align-items-center mb-4">
                        <a href="#items"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="22" class="mr-3"><title>Back</title><path fill="white" d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg></a>
                        <h1 class="h6 mb-0">Edit Item</h1>
                    </div>
                    
                    <form ref="formEditItem" v-on:submit.prevent="onPostEditItem(editedItem.index)" action="" method="POST" class="form-default">
                        <div class="form-group">
                            <label for="barcode">Barcode</label>
                            <div class="d-flex">
                                <input name="barcode" id="barcode" v-model="editedItem.barcode" type="text" class="form-control">
                                <button @click="onBarcode('editedItem.barcode')" type="button" class="btn btn-light p-0 pl-2 pr-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="32" viewBox="0 0 24 24"><path d="M4,6H6V18H4V6M7,6H8V18H7V6M9,6H12V18H9V6M13,6H14V18H13V6M16,6H18V18H16V6M19,6H20V18H19V6M2,4V8H0V4A2,2 0 0,1 2,2H6V4H2M22,2A2,2 0 0,1 24,4V8H22V4H18V2H22M2,16V20H6V22H2A2,2 0 0,1 0,20V16H2M22,20V16H24V20A2,2 0 0,1 22,22H18V20H22Z" /></svg>
                                </button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="name">Name <em class="text-danger">*</em></label>
                            <div>
                                <input name="name" id="name" v-model="editedItem.name" type="text" class="form-control">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-row">
                                <div class="col-4">
                                    <label for="cost">Cost <em class="text-danger">*</em></label>
                                    <div>
                                        <input name="cost" id="cost" v-model="editedItem.cost" type="text" class="form-control">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <label for="price">Price <em class="text-danger">*</em></label>
                                    <div>
                                        <input name="price" id="price" v-model="editedItem.price" type="text" class="form-control">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <label for="stock">Stock <em class="text-danger">*</em></label>
                                    <div>
                                        <input name="stock" id="stock" v-model="editedItem.stock" type="number" min="0" step="1" class="form-control">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-row">
                                <div class="col-6">
                                    <label for="size">Size</label>
                                    <div>
                                        <input name="size" id="size" v-model="editedItem.size" type="number" min="0" step="0.1" class="form-control">
                                    </div>
                                </div>
                                <div class="col-6">
                                    <label for="unit">Unit</label>
                                    <div>
                                        <select name="unit" id="unit" v-model="editedItem.unit" class="form-control">
                                            <option value=""></option>
                                            <option value="kilogram">Kilos</option>
                                            <option value="gram">Grams</option>
                                            <option value="liter">Liters</option>
                                            <option value="ounce">Ounces</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-5">
                            <label for="photo">Photo</label>
                            <div>
                                <img style="max-width:100%" v-if="editedItem.photo" :src="editedItem.photo" alt="" class="image-fluid">
                            </div>
                            <div class="custom-file">
                                <input v-on:change="readFile($event, 'editedItem.photo', _, ['image/jpeg', 'image/png'])" name="photo" id="photo" ref="editedItemPhoto" type="file">
                                <label class="custom-file-label" for="photo"></label>
                            </div>
                        </div>
                        <div class="form-group">
                            <button class="btn btn-success btn-full-width">Save</button>
                        </div>
                    </form>
                </div>
                <!-- Calc -->
                <div v-if="page=='#calc'">
                    <div class="back d-flex align-items-center mb-4">
                        <a href="#home"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="22" class="mr-3"><title>Back</title><path fill="white" d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg></a>
                        <h1 class="h6 mb-0">Calculator</h1>
                    </div>
                </div>
                <!-- Scanner -->
                <div v-if="page=='#scan'">
                    <div class="back d-flex align-items-center mb-4">
                        <a href="#home"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="22" class="mr-3"><title>Back</title><path fill="white" d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg></a>
                        <h1 class="h6 mb-0">Search Item</h1>
                    </div>
                    <form ref="formSearchItem" v-on:submit.prevent="onPostSearchItem()" action="" method="POST" class="form-default">
                        <div class="form-group">
                            <div class="d-flex">
                                <input placeholder="Search..." name="searchQuery" id="searchQuery" v-model="searchQuery" type="text" class="form-control">
                                <button @click="onBarcode('searchQuery')" type="button" class="btn btn-light p-0 pl-2 pr-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="32" viewBox="0 0 24 24"><path d="M4,6H6V18H4V6M7,6H8V18H7V6M9,6H12V18H9V6M13,6H14V18H13V6M16,6H18V18H16V6M19,6H20V18H19V6M2,4V8H0V4A2,2 0 0,1 2,2H6V4H2M22,2A2,2 0 0,1 24,4V8H22V4H18V2H22M2,16V20H6V22H2A2,2 0 0,1 0,20V16H2M22,20V16H24V20A2,2 0 0,1 22,22H18V20H22Z" /></svg>
                                </button>
                            </div>
                        </div>
                        <div class="p-1 mb-4">
                            <div v-for="item in searchResults">
                                <img :src="item.photo" width="16" alt="">
                                ${item.name} <em>(${item.size} ${item.unit})</em> - ${item.price|currency}
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div id="modal-scan" data-backdrop="static" class="modal " tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Point Camera on Barcode</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body text-center">
                            <div id="interactive" class="barcode-scan-view"></div>
                            <button type="button" class="btn btn-light position-relative" onclick="changeCam()" style="z-index: 1">
                                <svg xmlns="http://www.w3.org/2000/svg" width="22" viewBox="0 0 24 24"><title>Switch Cam</title><path fill="gray" d="M12 7C6.5 7 2 9.2 2 12C2 14.2 4.9 16.1 9 16.8V20L13 16L9 12V14.7C5.8 14.1 4 12.8 4 12C4 10.9 7 9 12 9S20 10.9 20 12C20 12.7 18.5 13.9 16 14.5V16.6C19.5 15.8 22 14.1 22 12C22 9.2 17.5 7 12 7Z" /></svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <!--  -->
        </div>
    </div>
</main>
<script src="js/jquery.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/lodash.min.js"></script>
<script src="js/moment.min.js"></script>
<script src="js/moment-timezone-with-data-10-year-range.min.js"></script>
<script src="js/localforage.min.js"></script>
<script src="js/vue.js"></script>
<script src="js/vue-filters-mixin.js"></script>
<script src="js/vuejs-auto-complete.js"></script>
<script src="js/vuelidate.min.js"></script>
<script src="js/validators.min.js"></script>
<script src="js/vuelidate-extend.js"></script>
<script src="js/script-cookies.js"></script>
<script src="js/script-custom-validation.js"></script>
<script src="js/quagga.min.js"></script>
<script src="js/unpkg.com_dexie@3.2.4_dist_dexie.js"></script>
<script src="js/script.js"></script>
</body>
</html>
